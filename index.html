<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Game App</title>
<meta name="theme-color" content="#0a0f1f">

<!-- MANIFEST DINÃMICO -->
<script>
const manifest = {
  name: "Game App",
  short_name: "GameApp",
  description: "Juego web progresivo convertido en app Android",
  start_url: ".",
  scope: ".",
  display: "standalone",
  background_color: "#ffffff",
  theme_color: "#0a0f1f",
  orientation: "any",
  lang: "es",
  icons: [
    {
      src: "https://via.placeholder.com/192",
      sizes: "192x192",
      type: "image/png"
    },
    {
      src: "https://via.placeholder.com/512",
      sizes: "512x512",
      type: "image/png"
    }
  ]
};

const manifestBlob = new Blob(
  [JSON.stringify(manifest)],
  { type: "application/json" }
);

const manifestURL = URL.createObjectURL(manifestBlob);
const link = document.createElement("link");
link.rel = "manifest";
link.href = manifestURL;
document.head.appendChild(link);
</script>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#0a0f1f;
  color:white;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}
.game{
  text-align:center;
  background:#001628;
  padding:30px;
  border-radius:15px;
  box-shadow:0 0 20px rgba(0,0,0,.5);
}
button{
  padding:15px 25px;
  font-size:18px;
  border:none;
  border-radius:10px;
  background:gold;
  cursor:pointer;
}
button:hover{
  background:#ffd700;
}
</style>
</head>

<body>
<div class="game">
  <h1>ðŸŽ® Game App</h1>
  <p>Puntos: <span id="score">0</span></p>
  <button onclick="play()">Jugar</button>
</div>

<script>
let score = 0;
function play(){
  score++;
  document.getElementById("score").textContent = score;
}
</script>

<!-- SERVICE WORKER DINÃMICO -->
<script>
if ("serviceWorker" in navigator) {
  const swCode = `
    self.addEventListener('install', e => {
      self.skipWaiting();
    });
    self.addEventListener('fetch', e => {
      e.respondWith(
        fetch(e.request).catch(() => new Response("Offline"))
      );
    });
  `;
  const swBlob = new Blob([swCode], { type: "text/javascript" });
  const swURL = URL.createObjectURL(swBlob);
  navigator.serviceWorker.register(swURL);
}
</script>

</body>
</html>
